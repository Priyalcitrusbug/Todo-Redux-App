{"version":3,"sources":["ducks/reducers.js","UI/Components/PrivateRoute.jsx","UI/Components/AddTodo.jsx","UI/Components/TodoItem.js","UI/Routes/Todos.jsx","UI/Routes/SignIn.jsx","App.js","index.js"],"names":["rootReducer","combineReducers","firebase","firebaseReducer","firestore","firestoreReducer","PrivateRoute","children","remainingProps","auth","useSelector","state","render","location","isLoaded","isEmpty","to","pathname","from","AddTodo","useState","presentToDo","setPresentToDo","useFirestore","uid","className","action","type","name","value","onChange","currentTarget","onClick","event","todo","preventDefault","collection","doc","add","title","isDone","then","docRef","update","todoID","id","ToDoItem","isTodoItemDone","inpdisabled","setInpDisable","inpValue","setInputValue","class","readOnly","onMouseLeave","delete","alert","catch","error","console","Todos","displayName","useFirestoreConnect","storeAs","todos","data","useFirebase","history","useHistory","style","padding","signOut","push","listStyleType","Object","values","map","SignIn","login","provider","App","textAlign","path","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","store","createStore","rrfProps","config","userProfile","useFirestoreForProfile","dispatch","createFirestoreInstance","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d2f98b73.chunk.js","sourcesContent":["import {combineReducers} from \"redux\";\r\nimport {firebaseReducer} from \"react-redux-firebase\";\r\nimport {firestoreReducer} from \"redux-firestore\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    firebase: firebaseReducer,\r\n    firestore: firestoreReducer\r\n});","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nconst PrivateRoute = ({ children, ...remainingProps }) => {\r\n  const auth = useSelector(state => state.firebase.auth);\r\n  return (\r\n    <Route\r\n      {...remainingProps}\r\n      render={({ location }) =>\r\n        isLoaded(auth) && !isEmpty(auth) ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\nexport default PrivateRoute;","import React, { useState } from \"react\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nconst AddTodo = () => {\r\n  const [presentToDo, setPresentToDo] = useState(\"\");\r\n  const firestore = useFirestore();\r\n  const { uid } = useSelector((state) => state.firebase.auth);\r\n  const handleChange = ({ currentTarget: { name, value } }) => {\r\n    if (name === \"addTodo\") {\r\n      setPresentToDo(value);\r\n    }\r\n  };\r\n  const addNewTodo = (todo) => {\r\n    firestore\r\n      .collection(\"users\")\r\n      .doc(uid)\r\n      .collection(\"todos\")\r\n      .add({\r\n        title: todo,\r\n        isDone: false,\r\n      })\r\n      .then((docRef) => {\r\n        docRef.update({\r\n          todoID: docRef.id,\r\n        });\r\n      });\r\n    setPresentToDo(\"\");\r\n  };\r\n  return (\r\n    <div className='container d-flex justify-content-center mb-6'>\r\n      <form action=\"\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"addTodo\"\r\n            value={presentToDo}\r\n            onChange={handleChange}\r\n            className='mt-2 mb-5'\r\n          />\r\n          <button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              addNewTodo(presentToDo);\r\n          }}\r\n          className=\"btn btn-info ml-5\"\r\n        >\r\n          Add Todo\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default AddTodo;","import React, { useState } from \"react\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ToDoItem = ({ isDone, title, todoID }) => {\r\n  const [isTodoItemDone, setTodoItemDone] = useState(isDone);\r\n  const [inpdisabled, setInpDisable] = useState(true);\r\n  const firestore = useFirestore();\r\n  const {uid} = useSelector(state => state.firebase.auth);\r\n  const [inpValue, setInputValue] = useState(title)\r\n\r\n  const editTodo = (event) => {\r\n    if(event.currentTarget.type === \"button\") {\r\n      setInpDisable(false);\r\n    }\r\n  }\r\n\r\n  const deleteTodo = () => {\r\n    firestore.collection(\"users\").doc(uid).collection(\"todos\").doc(todoID).delete().then(function() {\r\n      alert(\"Item successfully deleted.\");      \r\n    }).catch(function(error) {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  const handleChange = ({ currentTarget: { name, value } }) => {\r\n    if (name === \"editTodo\") {\r\n      setInputValue(value);\r\n    }\r\n  };\r\n\r\n  const handleInpLeave = () =>{\r\n    setInpDisable(true);\r\n    firestore.collection(\"users\").doc(uid).collection(\"todos\").doc(todoID).update({\r\n      title: inpValue,\r\n      isDone: isTodoItemDone\r\n  })\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <table class=\"table\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <form action=\"\">\r\n                <span className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control border-0\" name=\"editTodo\" value={inpValue} onChange={handleChange} readOnly={inpdisabled} onMouseLeave={handleInpLeave}/>\r\n                </span>\r\n              </form>\r\n            </td>\r\n            <td>\r\n              <span>\r\n                <button type='button' className='btn btn-secondary' onClick={editTodo}>Edit</button>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span>\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={deleteTodo} >Remove</button>\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\nexport default ToDoItem;","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AddTodo from \"../Components/AddTodo\";\r\nimport { useFirestoreConnect, useFirebase } from \"react-redux-firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ToDoItem from \"../Components/TodoItem\";\r\n\r\nconst Todos = () => {\r\n  const { displayName, uid } = useSelector((state) => state.firebase.auth);\r\n  useFirestoreConnect({\r\n    collection: `users/${uid}/#/todos`,\r\n    storeAs: \"todos\",\r\n  });\r\n  const todos = useSelector((state) => state.firestore.data.todos);\r\n  const firebase = useFirebase();\r\n  const history = useHistory();\r\n\r\n  const signout = () => {\r\n      firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        history.push(\"/\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='bg-secondary h-68' style={{padding: '12px'}}>\r\n        <h3 className='d-inline text-light'>Hello {displayName}</h3>\r\n        <button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              signout();\r\n            }}\r\n            className=\"btn btn-success d-inline ml-30 float-right\"\r\n          >\r\n            SignOut\r\n        </button>\r\n      </div>\r\n      <h4 className=\"mt-5\">Todos</h4>\r\n      <AddTodo />\r\n      <ul\r\n        style={{\r\n          listStyleType: \"none\",\r\n        }}\r\n      >\r\n        {todos &&\r\n          Object.values(todos).map((todo) => (\r\n            <li>\r\n              {todo === null ? '' : \r\n                <ToDoItem\r\n                  title={todo.title}\r\n                  isDone={todo.isDone}\r\n                  todoID={todo.todoID}\r\n                />\r\n              }\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\nexport default Todos;","import React from \"react\";\r\nimport { useFirebase } from \"react-redux-firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst SignIn = () => {\r\n  const firebase = useFirebase();\r\n  const history = useHistory();\r\n\r\n  const signInWithGoogle = () => {\r\n    firebase\r\n      .login({\r\n        provider: \"google\",\r\n        type: \"popup\",\r\n      })\r\n      .then(() => {\r\n        history.push(\"/#/todos\");\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <h1 className='m-5'>Sign In</h1>\r\n      <button\r\n        onClick={(event) => {\r\n          event.preventDefault();\r\n          signInWithGoogle();\r\n        }}\r\n        className=\"btn btn-success\"\r\n      >\r\n        Sign In with Google\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default SignIn;","import React from 'react';\nimport PrivateRoute from \"./UI/Components/PrivateRoute\";\nimport Todos from \"./UI/Routes/Todos\";\nimport SignIn from \"./UI/Routes/SignIn\";\nimport {Switch, Route} from \"react-router-dom\";\nfunction App() {\n  return (\n    <div style = {{\n      textAlign: \"center\"\n    }}>\n      <h1 className=\"jumbotron text-center\">Redux Todo App</h1>\n      <Switch>\n        <PrivateRoute path = \"/#/todos\">\n          <Todos />\n        </PrivateRoute>\n        <Route path = \"/\">\n        <SignIn />\n        </Route>\n      </Switch>\n\n    </div>\n  );\n}\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\nimport { createFirestoreInstance } from \"redux-firestore\";\nimport { rootReducer } from \"./ducks/reducers\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAd4eJ6sW-JoEBoBlC8_bf1c246my4GXnE\",\n  authDomain: \"to-do-app-b0d04.firebaseapp.com\",\n  databaseURL: \"https://to-do-app-b0d04.firebaseio.com\",\n  projectId: \"to-do-app-b0d04\",\n  storageBucket: \"to-do-app-b0d04.appspot.com\",\n  messagingSenderId: \"598084711554\",\n  appId: \"1:598084711554:web:95695b55375efe60c8709b\",\n  measurementId: \"G-2RMYB947NN\"\n};\n\nconst rrfConfig = {\n  userProfile: \"users\",\n  useFirestoreForProfile: true,\n};\nfirebase.initializeApp(firebaseConfig);\nfirebase.firestore();\n\nconst initialState = {};\nconst store = createStore(rootReducer, initialState);\n\nconst rrfProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance, //since we are using Firestore\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ReactReduxFirebaseProvider {...rrfProps}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </ReactReduxFirebaseProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}