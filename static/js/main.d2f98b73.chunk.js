(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{207:function(e,t,n){e.exports=n(400)},400:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(78),r=n.n(c),l=n(81),s=n.n(l),i=(n(212),n(214),n(40)),u=n(14),d=n(5),m=n(80),b=Object(i.b)({firebase:d.firebaseReducer,firestore:m.firestoreReducer}),p=n(206),f=n(3),E=function(e){var t=e.children,n=Object(p.a)(e,["children"]),a=Object(u.b)((function(e){return e.firebase.auth}));return o.a.createElement(f.b,Object.assign({},n,{render:function(e){var n=e.location;return Object(d.isLoaded)(a)&&!Object(d.isEmpty)(a)?t:o.a.createElement(f.a,{to:{pathname:"/",state:{from:n}}})}}))},h=n(41),v=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],c=t[1],r=Object(d.useFirestore)(),l=Object(u.b)((function(e){return e.firebase.auth})).uid;return o.a.createElement("div",{className:"container d-flex justify-content-center mb-6"},o.a.createElement("form",{action:""},o.a.createElement("input",{type:"text",name:"addTodo",value:n,onChange:function(e){var t=e.currentTarget,n=t.name,a=t.value;"addTodo"===n&&c(a)},className:"mt-2 mb-5"}),o.a.createElement("button",{onClick:function(e){var t;e.preventDefault(),t=n,r.collection("users").doc(l).collection("todos").add({title:t,isDone:!1}).then((function(e){e.update({todoID:e.id})})),c("")},className:"btn btn-info ml-5"},"Add Todo")))},j=function(e){var t=e.isDone,n=e.title,c=e.todoID,r=Object(a.useState)(t),l=Object(h.a)(r,2),s=l[0],i=(l[1],Object(a.useState)(!0)),m=Object(h.a)(i,2),b=m[0],p=m[1],f=Object(d.useFirestore)(),E=Object(u.b)((function(e){return e.firebase.auth})).uid,v=Object(a.useState)(n),j=Object(h.a)(v,2),O=j[0],g=j[1];return o.a.createElement("div",{className:"container"},o.a.createElement("table",{class:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("form",{action:""},o.a.createElement("span",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control border-0",name:"editTodo",value:O,onChange:function(e){var t=e.currentTarget,n=t.name,a=t.value;"editTodo"===n&&g(a)},readOnly:b,onMouseLeave:function(){p(!0),f.collection("users").doc(E).collection("todos").doc(c).update({title:O,isDone:s})}})))),o.a.createElement("td",null,o.a.createElement("span",null,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){"button"===e.currentTarget.type&&p(!1)}},"Edit"))),o.a.createElement("td",null,o.a.createElement("span",null,o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){f.collection("users").doc(E).collection("todos").doc(c).delete().then((function(){alert("Item successfully deleted.")})).catch((function(e){console.error("Error removing document: ",e)}))}},"Remove")))))))},O=function(){var e=Object(u.b)((function(e){return e.firebase.auth})),t=e.displayName,n=e.uid;Object(d.useFirestoreConnect)({collection:"users/".concat(n,"/#/todos"),storeAs:"todos"});var a=Object(u.b)((function(e){return e.firestore.data.todos})),c=Object(d.useFirebase)(),r=Object(f.g)();return o.a.createElement("div",null,o.a.createElement("div",{className:"bg-secondary h-68",style:{padding:"12px"}},o.a.createElement("h3",{className:"d-inline text-light"},"Hello ",t),o.a.createElement("button",{onClick:function(e){e.preventDefault(),c.auth().signOut().then((function(){r.push("/")}))},className:"btn btn-success d-inline ml-30 float-right"},"SignOut")),o.a.createElement("h4",{className:"mt-5"},"Todos"),o.a.createElement(v,null),o.a.createElement("ul",{style:{listStyleType:"none"}},a&&Object.values(a).map((function(e){return o.a.createElement("li",null,null===e?"":o.a.createElement(j,{title:e.title,isDone:e.isDone,todoID:e.todoID}))}))))},g=function(){var e=Object(d.useFirebase)(),t=Object(f.g)();return o.a.createElement("div",null,o.a.createElement("h1",{className:"m-5"},"Sign In"),o.a.createElement("button",{onClick:function(n){n.preventDefault(),e.login({provider:"google",type:"popup"}).then((function(){t.push("/#/todos")}))},className:"btn btn-success"},"Sign In with Google"))};var y=function(){return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("h1",{className:"jumbotron text-center"},"Redux Todo App"),o.a.createElement(f.d,null,o.a.createElement(E,{path:"/#/todos"},o.a.createElement(O,null)),o.a.createElement(f.b,{path:"/"},o.a.createElement(g,null))))},N=n(39);s.a.initializeApp({apiKey:"AIzaSyAd4eJ6sW-JoEBoBlC8_bf1c246my4GXnE",authDomain:"to-do-app-b0d04.firebaseapp.com",databaseURL:"https://to-do-app-b0d04.firebaseio.com",projectId:"to-do-app-b0d04",storageBucket:"to-do-app-b0d04.appspot.com",messagingSenderId:"598084711554",appId:"1:598084711554:web:95695b55375efe60c8709b",measurementId:"G-2RMYB947NN"}),s.a.firestore();var I=Object(i.c)(b,{}),D={firebase:s.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:I.dispatch,createFirestoreInstance:m.createFirestoreInstance};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:I},o.a.createElement(d.ReactReduxFirebaseProvider,D,o.a.createElement(N.a,null,o.a.createElement(y,null))))),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.d2f98b73.chunk.js.map